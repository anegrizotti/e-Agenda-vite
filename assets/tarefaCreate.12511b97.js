var d=Object.defineProperty;var n=(o,e,i)=>e in o?d(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var r=(o,e,i)=>(n(o,typeof e!="symbol"?e+"":e,i),i);import"./style.c0ed6924.js";import{E as l}from"./entidadeBase.model.63a43782.js";import{T as c}from"./tarefa.repositorio.local-storage.f272d1b2.js";class s extends l{constructor(i,t,a){super();r(this,"titulo");r(this,"prioridade");r(this,"dataCriacao");a&&(this.id=a),this.titulo=i,this.prioridade=t,this.dataCriacao=new Date}}class h{constructor(e,i){r(this,"txtTitulo");r(this,"selectedPrioriade");r(this,"btnInserir");r(this,"idSelecionado");if(this.repositorioTarefa=e,this.configurarElementos(),i){this.idSelecionado=i;const t=this.repositorioTarefa.selecionarPorId(i);t&&this.preencherFormulario(t)}}preencherFormulario(e){this.txtTitulo.value=e.titulo,e.prioridade==="Baixa"&&(this.selectedPrioriade.selectedIndex=0),e.prioridade==="M\xE9dia"&&(this.selectedPrioriade.selectedIndex=1),e.prioridade==="Alta"&&(this.selectedPrioriade.selectedIndex=2)}gravarRegistros(){const e=this.obterDadosFormulario();this.idSelecionado?this.repositorioTarefa.editar(e.id,e):this.repositorioTarefa.inserir(e),window.location.href="listaTarefas.html"}obterDadosFormulario(){const e=this.txtTitulo.value,i=this.selectedPrioriade.value;let t=null;return this.idSelecionado?t=new s(e,i,this.idSelecionado):t=new s(e,i),t}configurarElementos(){this.txtTitulo=document.getElementById("titulo"),this.btnInserir=document.getElementById("btnInserir"),this.selectedPrioriade=document.getElementById("prioridade"),this.btnInserir.addEventListener("click",e=>this.gravarRegistros())}}const u=new URLSearchParams(window.location.search),f=u.get("id");new h(new c,f);
